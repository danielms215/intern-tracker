
<h1>My Internships</h1>

<div class="form-container">
	<form method="post">
		<div class-"form-group">
			<button class="btn btn-primary" data-toggle="modal" data-target="#{{vm.user.internshipCount - 1}}modal" ng-click="vm.addInternship()" >
			Add Internship</button>
			<br>
			<br>
		</div>
		<div ng-repeat="internship in vm.user.internships" id="{{internship.id}}modal" class="modal fade" tabindex="-1" role="dialog">
			<div class="modal-dialog">
				<div class="modal-content">
	    			<div class="modal-body">
	        			<div class="form-group">
							<label for="companyName">Company Name</label>
							<input type="text" id={{internship.id}}+"companyName" class="form-control" ng-model=internship["companyName"]>
						</div>
						<div class="form-group">
							<label for="role">Role</label>
							<input type="text" id={{internship.id}}+"role" class="form-control" ng-model=internship["role"]>
						</div>
						<div class="form-group">
							<label for="recruiter">Recruiter</label>
							<input type="text" id={{internship.id}}+"recruiter" class="form-control" ng-model=internship["recruiter"]>
						</div>
						<div class="form-group">
							<label for="location">Location</label>
							<input type="text" id={{internship.id}}+"location" class="form-control" ng-model=internship["location"]>
						</div>
						<div class="form-group">
							<label for="openDate">Application Open Date</label>
							<input type="date" id = {{internship.id}}+"openDate" class="form-control" ng-model=internship["openDate"]>
						</div>
						<div class="form-group">
							<label for="closeDate">Application Close Date</label>
							<input type="date" id = {{internship.id}}+"closeDate" class="form-control" ng-model=internship["closeDate"]>
						</div>
						<div class="form-group">
							<label for="status">Status</label>
							<select ng-model=internship["status"]>
							<option id={{internship.id}}+"status"  ng-repeat="x in ['Offered', 'Pending', 'Denied', 'Declined Offer']">{{x}}</option>
							</select>
						</div>
						<div class="form-group">
	    					<button class="btn btn-primary" ng-click="vm.saveInternships()" data-dismiss="modal">Save</button>
						</div>
	    			</div>
				</div>
			</div>
		</div>
		<table class="table table-hover">
			<thead>
				<tr>
					<th>
					<a href="#" ng-click="vm.sortType = 'companyName'">
					Company
					<span ng-show="vm.sortType == 'companyName'" class="fa fa-caret-down"></span></a></th>
					<th>
					<a href="#" ng-click="vm.sortType = 'role'">
					Role
					<span ng-show="vm.sortType == 'role'" class="fa fa-caret-down"></span></a></th>
					<th>
					<a href="#" ng-click="vm.sortType = 'recruiter'">
					Recruiter
					<span ng-show="vm.sortType == 'recruiter'" class="fa fa-caret-down"></span></a></th>
					<th>
					<a href="#" ng-click="vm.sortType = 'location'">
					Location
					<span ng-show="vm.sortType == 'location'" class="fa fa-caret-down"></span></a></th>
					<th>
					<a href="#" ng-click="vm.sortType = 'openDate'">
					Open Date
					<span ng-show="vm.sortType == 'openDate'" class="fa fa-caret-down"></span></a></th>
					<th>
					<a href="#" ng-click="vm.sortType = 'closeDate'">
					Close Date
					<span ng-show="vm.sortType == 'closeDate'" class="fa fa-caret-down"></span></a></th>
					<th>
					<a href="#" ng-click="vm.sortType = 'status'">
					Status
					<span ng-show="vm.sortType == 'status'" class="fa fa-caret-down"></span></a></th>
				</tr>
			</thead>
			<tbody>
				<tr ng-repeat="internship in vm.internshipList | orderBy:vm.sortType">
					<td>{{internship.companyName}}</td>
					<td>{{internship.role}}</td>
					<td>{{internship.recruiter}}</td>
					<td>{{internship.location}}</td>
					<td>{{internship.openDate}}</td>
					<td>{{internship.closeDate}}</td>
					<td>{{internship.status}}</td>
					<td><button data-toggle="modal" data-target="#{{internship.id}}modal" type="button" class="btn btn-default">Edit</button></td>
					<td><button class="btn btn-danger" ng-click="vm.deleteInternship(internship.id)">Delete Internship</button></td>
				</tr>
			</tbody>
		</table>
    </form>
</div>